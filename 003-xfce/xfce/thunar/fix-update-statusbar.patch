From 22d7779d8f2272a79676331d509a7ee3cb0a3292 Mon Sep 17 00:00:00 2001
From: Theo Linkspfeifer <lastonestanding@tutanota.com>
Date: Thu, 20 Feb 2025 18:55:36 +0100
Subject: [PATCH] Always update statusbar on file changes in list view (#1560)

(cherry picked from commit 16d7fb9e44324333f0e4f662d84d70f04fff7fa5)
---
 thunar/thunar-tree-view-model.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/thunar/thunar-tree-view-model.c b/thunar/thunar-tree-view-model.c
index 2dacfe0be..36d4f9f2a 100644
--- thunar/thunar-tree-view-model.c
+++ thunar/thunar-tree-view-model.c
@@ -2584,6 +2584,8 @@ _thunar_tree_view_model_dir_files_added (Node       *node,
       if (!g_hash_table_contains (node->set, file))
         thunar_tree_view_model_dir_add_file (node, file);
     }
+
+  g_object_notify_by_pspec (G_OBJECT (node->model), tree_model_props[PROP_NUM_FILES]);
 }
 
 
@@ -2613,6 +2615,8 @@ _thunar_tree_view_model_dir_files_removed (Node       *node,
 
       thunar_tree_view_model_dir_remove_file (node, file);
     }
+
+  g_object_notify_by_pspec (G_OBJECT (node->model), tree_model_props[PROP_NUM_FILES]);
 }
 
 
-- 
GitLab
